#CREATE TABLES

CREATE TABLE Administrator (
	GTID  CHAR(9), 
	Password VARCHAR(30) NOT NULL,
	PRIMARY KEY (GTID) );
	
CREATE TABLE Student (
	GTID  CHAR(9), 
	Password VARCHAR(30) NOT NULL,
	Email VARCHAR(40) NOT NULL,
	Name VARCHAR(100) NOT NULL,
	PRIMARY KEY (GTID),
	UNIQUE(Email) );
	
CREATE TABLE Graduate (
	GTID CHAR(9),
	Password VARCHAR(30) NOT NULL,
	PRIMARY KEY (GTID),
	FOREIGN KEY (GTID) REFERENCES Student (GTID) );
	
CREATE TABLE Undergraduate (
	GTID CHAR(9),
	Password VARCHAR(30) NOT NULL,
	PRIMARY KEY (GTID),
	FOREIGN KEY (GTID) REFERENCES Student (GTID) );
	
CREATE TABLE Tutor (
	GTID CHAR(9),
	Password VARCHAR(30) NOT NULL,
	Phone CHAR(10),
	GPA DECIMAL(3, 2) NOT NULL,
	CHECK (GPA >= 3.00),
	PRIMARY KEY (GTID) );
	
CREATE TABLE Course (
	School VARCHAR (100),
	Number INT,
	PRIMARY KEY (School, Number) );
	
CREATE TABLE Professor ( 
	GTID CHAR(9),
	Password VARCHAR(30) NOT NULL,
	PRIMARY KEY (GTID) );
	
CREATE TABLE Tutor_Time_Slot (
	GTID CHAR(9),
	Time VARCHAR(8),
	Semester VARCHAR(6),
	Weekday VARCHAR(10),
	PRIMARY KEY (GTID, Time, Semester, Weekday),
	FOREIGN KEY (GTID) REFERENCES Student (GTID) );
	
CREATE TABLE Recommends ( 
	GTID_Tutor CHAR(9),
	GTID_Professor CHAR (9),
	Num_Evaluation TINYINT,
	Desc_Evaluation VARCHAR(1000),
	CHECK (Num_Evaluation >= 1 AND Num_Evaluation <= 4),
	PRIMARY KEY (GTID_Tutor, GTID_Professor),
	FOREIGN KEY (GTID_Tutor) REFERENCES Tutor (GTID),
	FOREIGN KEY (GTID_Professor) REFERENCES Professor (GTID) );
	
CREATE TABLE Tutors (
	GTID_Tutor CHAR(9),
	School VARCHAR(100),
	Number INT,
	GTA BOOLEAN,
	PRIMARY KEY (GTID_Tutor, School, Number),
	FOREIGN KEY (GTID_Tutor) REFERENCES Tutor (GTID), 
	FOREIGN KEY (School, Number) REFERENCES Course (School, Number) );
	
CREATE TABLE Rates (
	GTID_Undergraduate CHAR (9),
	GTID_Tutor CHAR (9),
	School VARCHAR (100),
	Number INT,
	Num_Evaluation TINYINT,
	Desc_Evaluation VARCHAR(1000),
	CHECK (Num_Evaluation >= 1 AND Num_Evaluation <= 4),
	PRIMARY KEY (GTID_Undergraduate, GTID_Tutor),
	FOREIGN KEY (GTID_Tutor) REFERENCES Tutor (GTID),
	FOREIGN KEY (GTID_Undergraduate) REFERENCES Undergraduate (GTID) );
	
CREATE TABLE Hires (
	GTID_Undergraduate CHAR (9),
	GTID_Tutor CHAR (9),
	School VARCHAR (100),
	Number INT,
	Time VARCHAR(8),
	Semester VARCHAR(6),
	Weekday VARCHAR(10), 
	PRIMARY KEY (GTID_Tutor, Time, Semester, Weekday),
	FOREIGN KEY (GTID_Undergraduate) REFERENCES Undergraduate (GTID),
	FOREIGN KEY (GTID_Tutor, School, Number) REFERENCES Tutors (GTID_Tutor, School, Number),
	FOREIGN KEY (GTID_Tutor, Time, Semester, Weekday) REFERENCES Tutor_Time_Slot (GTID, Time, Semester, Weekday) );
